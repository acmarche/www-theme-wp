{"version":3,"file":"notificationPermission.js","mappings":"YAiDA,IAAMA,EAAkBC,SAASC,eAAgB,mBAC1B,MAAnBF,GACAA,EAAgBG,iBAAkB,SAAS,WARtB,IAAIC,aAAc,yBAA0B,CAC7DC,KAFS,6DAWZ,IApDL,WAEI,SAASC,EAAkBC,GAES,WAA5BH,aAAaG,YAAuD,YAA5BH,aAAaG,WACrDP,EAAgBQ,MAAMC,QAAU,QAEhCT,EAAgBQ,MAAMC,QAAU,MAEvC,CAGO,iBAAkBC,OAgB9B,WACI,IACIN,aAAaO,oBACRC,MACR,CAAC,MAAOC,GACL,OAAO,CACV,CAED,OAAO,CACV,CAtBWC,GACAV,aAAaO,oBACRC,MAAM,SAAEL,GACLD,GACH,IAELF,aAAaO,mBAAmB,SAAUJ,GACtCD,GACH,IAVLS,QAAQC,IAAK,0DAapB,CA4BDC,E","sources":["webpack://react-plugin/./src/notificationPermission.js"],"sourcesContent":["//https://developer.mozilla.org/fr/docs/Web/API/Notifications_API/Using_the_Notifications_API\nfunction askNotificationPermission() {\n    // La fonction qui sert effectivement à demander la permission\n    function handlePermission( permission ) {\n        // On affiche ou non le bouton en fonction de la réponse\n        if (Notification.permission === 'denied' || Notification.permission === 'default') {\n            notificationBtn.style.display = 'block';\n        } else {\n            notificationBtn.style.display = 'none';\n        }\n    }\n\n    // Vérifions si le navigateur prend en charge les notifications\n    if (! ( 'Notification' in window )) {\n        console.log( 'Ce navigateur ne prend pas en charge les notifications.' );\n    } else {\n        if (checkNotificationPromise()) {\n            Notification.requestPermission()\n                .then( ( permission ) => {\n                    handlePermission( permission );\n                } );\n        } else {\n            Notification.requestPermission( function( permission ) {\n                handlePermission( permission );\n            } );\n        }\n    }\n}\n\nfunction checkNotificationPromise() {\n    try {\n        Notification.requestPermission()\n            .then();\n    } catch (e) {\n        return false;\n    }\n\n    return true;\n}\n\nfunction createNotif( titre ) {\n    const img = '/to-do-notifications/img/icon-128.png';\n    const text = 'Coucou ! Votre tâche \"' + titre + '\" arrive maintenant à échéance.';\n    const notification = new Notification( 'Liste de trucs à faire', {\n        body: text\n        // icon: img\n    } );\n}\n\nconst notificationBtn = document.getElementById( 'notificationBtn' );\nif (notificationBtn != null) {\n    notificationBtn.addEventListener( 'click', () => {\n        createNotif( 'Lolo' );\n    } );\n}\naskNotificationPermission();"],"names":["notificationBtn","document","getElementById","addEventListener","Notification","body","handlePermission","permission","style","display","window","requestPermission","then","e","checkNotificationPromise","console","log","askNotificationPermission"],"sourceRoot":""}